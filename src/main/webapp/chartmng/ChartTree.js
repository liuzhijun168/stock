Ext.namespace("com.test.cmp");
com.test.cmp.ChartTree=Ext.extend(Ext.tree.TreePanel,{
	title:'图表',
	root:{
		id:'rootNode',
		text:'图表',
		expanded:true,
		leaf:false
	},
	rootVisible:true,
	dataUrl:'chartmng/chartTree.json',
	listeners:{
		"load":function(){
			this.expandAll();
		}
	},
	initComponent:function(config){
		this.bbar=[
			'->',
			{
				text:"全部折叠", 
				listeners:{
					"click":{
						fn:function(){
							this.collapseAll();
						},
						scope:this
					}	
				}
			},
			{
				text:"全部展开",
				listeners:{
					"click":{
						fn:function(){
							this.expandAll();
						},
						scope:this
					}	
				}
			},
			{text:"新增"},
			{text:"删除"},
			{text:"刷新"}
		],
		com.test.cmp.ChartTree.superclass.initComponent.call(this);
	},
	dataLoadHandler:function(){
		this.expandAll();
	}
});
Ext.reg("charttree",com.test.cmp.ChartTree)